// Do not change the order. These are sorted by most discriminating signatures first.
// _ is used to set multiple signatures for the same type, and -1 is used to ignore a byte.
export const imageTypes: [string, number[]][] = [
  ['jxl_2', [0x00, 0x00, 0x00, 0x0c, 0x4a, 0x58, 0x4c, 0x20, 0x0d, 0x0a, 0x87, 0x0a]],
  ['jp2', [0x00, 0x00, 0x00, 0x0c, 0x6a, 0x50, 0x20, 0x20, 0x0d, 0x0a, 0x87, 0x0a]],
  ['webp', [0x52, 0x49, 0x46, 0x46, -1, -1, -1, -1, 0x57, 0x45, 0x42, 0x50]],
  ['avif', [-1, -1, -1, -1, 0x66, 0x74, 0x79, 0x70, 0x61, 0x76, 0x69, 0x66]],
  ['heic', [-1, -1, -1, -1, 0x66, 0x74, 0x79, 0x70, 0x68, 0x65, 0x69, 0x63]],
  ['png', [0x89, 0x50, 0x4e, 0x47, 0x0d, 0x0a, 0x1a, 0x0a]],
  ['pdf', [0x25, 0x50, 0x44, 0x46, 0x2d]],
  ['jpeg', [0xff, 0xd8, 0xff]],
  ['gif', [0x47, 0x49, 0x46, 0x38]],
  ['ico', [0x00, 0x00, 0x01, 0x00]],
  ['icns', [0x69, 0x63, 0x6e, 0x73]],
  ['tiff', [0x49, 0x49, 0x2a, 0x00]],
  ['bmp', [0x42, 0x4d]],
  ['svg_1', [0x3c, 0x3f, 0x78, 0x6d, 0x6c]], // <?xml
  ['svg_2', [0x3c, 0x73, 0x76, 0x67]], // <svg
  ['jxl_1', [0xff, 0x0a]]
]

export const imageMimeTypes: Record<string, string> = {
  avif: 'image/avif',
  jpeg: 'image/jpeg',
  png: 'image/png',
  webp: 'image/webp',
  svg: 'image/svg+xml',
  ico: 'image/x-icon',
  icns: 'image/icns',
  bmp: 'image/bmp',
  heic: 'image/heic',
  jxl: 'image/jxl'
}

export const animatableTypes = ['webp', 'png', 'gif']
export const bypassTypes = ['svg', 'ico', 'icns', 'bmp', 'jxl', 'heic']
export const maxImageSize = 268_402_689 // See limitInputPixels in https://sharp.pixelplumbing.com/api-constructor/
